/*
 * Copyright 2022 Disney
 * All Rights Reserved
 *
 * Underscore.js 1.3.3
 * Copyright 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
 * MIT License
 *
 * Backbone.js 1.0.0
 * Copyright 2010-2012 Jeremy Ashkenas, DocumentCloud Inc.
 * MIT License
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("underscore",t):(e="undefined"!=typeof globalThis?globalThis:e||self,function(){var n=e._,i=e._=t();i.noConflict=function(){return e._=n,i}}())}(this,function(){function e(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),r=0;n>r;r++)i[r]=arguments[r+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var o=Array(t+1);for(r=0;t>r;r++)o[r]=arguments[r];return o[t]=i,e.apply(this,o)}}function t(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function n(e){return null===e}function i(e){return void 0===e}function r(e){return e===!0||e===!1||"[object Boolean]"===lt.call(e)}function o(e){return!(!e||1!==e.nodeType)}function s(e){var t="[object "+e+"]";return function(e){return lt.call(e)===t}}function a(e){return null!=e&&Ot(e.getInt8)&&Et(e.buffer)}function l(e,t){return null!=e&&ct.call(e,t)}function c(e){return!St(e)&&mt(e)&&!isNaN(parseFloat(e))}function u(e){return kt(e)&&gt(e)}function d(e){return function(){return e}}function f(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&_t>=n}}function p(e){return function(t){return null==t?void 0:t[e]}}function h(e){return vt?vt(e)&&!jt(e):Ut(e)&&Ft.test(lt.call(e))}function v(e){for(var t={},n=e.length,i=0;n>i;++i)t[e[i]]=!0;return{contains:function(e){return t[e]},push:function(n){return t[n]=!0,e.push(n)}}}function g(e,t){t=v(t);var n=yt.length,i=e.constructor,r=Ot(i)&&i.prototype||rt,o="constructor";for(l(e,o)&&!t.contains(o)&&t.push(o);n--;)o=yt[n],o in e&&e[o]!==r[o]&&!t.contains(o)&&t.push(o)}function m(e){if(!t(e))return[];if(pt)return pt(e);var n=[];for(var i in e)l(e,i)&&n.push(i);return bt&&g(e,n),n}function b(e){if(null==e)return!0;var t=zt(e);return"number"==typeof t&&(Nt(e)||wt(e)||Rt(e))?0===t:0===zt(m(e))}function y(e,t){var n=m(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;i>o;o++){var s=n[o];if(t[s]!==r[s]||!(s in r))return!1}return!0}function _(e){return e instanceof _?e:this instanceof _?void(this._wrapped=e):new _(e)}function w(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,$t(e))}function k(e,t,n,i){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var r=typeof e;return"function"!==r&&"object"!==r&&"object"!=typeof t?!1:x(e,t,n,i)}function x(e,t,n,i){e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var r=lt.call(e);if(r!==lt.call(t))return!1;if(Lt&&"[object Object]"==r&&jt(e)){if(!jt(t))return!1;r=Ht}switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return ot.valueOf.call(e)===ot.valueOf.call(t);case"[object ArrayBuffer]":case Ht:return x(w(e),w(t),n,i)}var o="[object Array]"===r;if(!o&&Vt(e)){var s=$t(e);if(s!==$t(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,c=t.constructor;if(a!==c&&!(Ot(a)&&a instanceof a&&Ot(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===e)return i[u]===t;if(n.push(e),i.push(t),o){if(u=e.length,u!==t.length)return!1;for(;u--;)if(!k(e[u],t[u],n,i))return!1}else{var d,f=m(e);if(u=f.length,m(t).length!==u)return!1;for(;u--;)if(d=f[u],!l(t,d)||!k(e[d],t[d],n,i))return!1}return n.pop(),i.pop(),!0}function C(e,t){return k(e,t)}function T(e){if(!t(e))return[];var n=[];for(var i in e)n.push(i);return bt&&g(e,n),n}function S(e){var t=zt(e);return function(n){if(null==n)return!1;var i=T(n);if(zt(i))return!1;for(var r=0;t>r;r++)if(!Ot(n[e[r]]))return!1;return e!==Yt||!Ot(n[qt])}}function E(e){for(var t=m(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i}function P(e){for(var t=m(e),n=t.length,i=Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i}function A(e){for(var t={},n=m(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t}function O(e){var t=[];for(var n in e)Ot(e[n])&&t.push(n);return t.sort()}function M(e,t){return function(n){var i=arguments.length;if(t&&(n=Object(n)),2>i||null==n)return n;for(var r=1;i>r;r++)for(var o=arguments[r],s=e(o),a=s.length,l=0;a>l;l++){var c=s[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}}function L(){return function(){}}function D(e){if(!t(e))return{};if(ht)return ht(e);var n=L();n.prototype=e;var i=new n;return n.prototype=null,i}function I(e,t){var n=D(e);return t&&rn(n,t),n}function j(e){return t(e)?Nt(e)?e.slice():nn({},e):e}function N(e,t){return t(e),e}function B(e){return Nt(e)?e:[e]}function R(e){return _.toPath(e)}function $(e,t){for(var n=t.length,i=0;n>i;i++){if(null==e)return void 0;e=e[t[i]]}return n?e:void 0}function U(e,t,n){var r=$(e,R(t));return i(r)?n:r}function F(e,t){t=R(t);for(var n=t.length,i=0;n>i;i++){var r=t[i];if(!l(e,r))return!1;e=e[r]}return!!n}function V(e){return e}function z(e){return e=rn({},e),function(t){return y(t,e)}}function H(e){return e=R(e),function(t){return $(t,e)}}function q(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}}function W(e,n,i){return null==e?V:Ot(e)?q(e,n,i):t(e)&&!Nt(e)?z(e):H(e)}function K(e,t){return W(e,t,1/0)}function G(e,t,n){return _.iteratee!==K?_.iteratee(e,t):W(e,t,n)}function J(e,t,n){t=G(t,n);for(var i=m(e),r=i.length,o={},s=0;r>s;s++){var a=i[s];o[a]=t(e[a],a,e)}return o}function Y(){}function Q(e){return null==e?Y:function(t){return U(e,t)}}function X(e,t,n){var i=Array(Math.max(0,e));t=q(t,n,1);for(var r=0;e>r;r++)i[r]=t(r);return i}function Z(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}function ee(e){var t=function(t){return e[t]},n="(?:"+m(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}}function te(e){return"\\"+pn[e]}function ne(e,t,n){!t&&n&&(t=n),t=on({},t,_.templateSettings);var i=RegExp([(t.escape||fn).source,(t.interpolate||fn).source,(t.evaluate||fn).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,s,a){return o+=e.slice(r,a).replace(hn,te),r=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n";var s=t.variable;if(s){if(!vn.test(s))throw new Error("variable is not a bare identifier: "+s)}else o="with(obj||{}){\n"+o+"}\n",s="obj";o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var a;try{a=new Function(s,"_",o)}catch(l){throw l.source=o,l}var c=function(e){return a.call(this,e,_)};return c.source="function("+s+"){\n"+o+"}",c}function ie(e,t,n){t=R(t);var i=t.length;if(!i)return Ot(n)?n.call(e):n;for(var r=0;i>r;r++){var o=null==e?void 0:e[t[r]];void 0===o&&(o=n,r=i),e=Ot(o)?o.call(e):o}return e}function re(e){var t=++gn+"";return e?e+t:t}function oe(e){var t=_(e);return t._chain=!0,t}function se(e,n,i,r,o){if(!(r instanceof n))return e.apply(i,o);var s=D(e.prototype),a=e.apply(s,o);return t(a)?a:s}function ae(e,t,n,i){if(i=i||[],t||0===t){if(0>=t)return i.concat(e)}else t=1/0;for(var r=i.length,o=0,s=zt(e);s>o;o++){var a=e[o];if(yn(a)&&(Nt(a)||Rt(a)))if(t>1)ae(a,t-1,n,i),r=i.length;else for(var l=0,c=a.length;c>l;)i[r++]=a[l++];else n||(i[r++]=a)}return i}function le(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return l(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n}function ce(e,t,n){var i,r,o,s,a=0;n||(n={});var l=function(){a=n.leading===!1?0:sn(),i=null,s=e.apply(r,o),i||(r=o=null)},c=function(){var c=sn();a||n.leading!==!1||(a=c);var u=t-(c-a);return r=this,o=arguments,0>=u||u>t?(i&&(clearTimeout(i),i=null),a=c,s=e.apply(r,o),i||(r=o=null)):i||n.trailing===!1||(i=setTimeout(l,u)),s};return c.cancel=function(){clearTimeout(i),a=0,i=r=o=null},c}function ue(t,n,i){var r,o,s,a,l,c=function(){var e=sn()-o;n>e?r=setTimeout(c,n-e):(r=null,i||(a=t.apply(l,s)),r||(s=l=null))},u=e(function(e){return l=this,s=e,o=sn(),r||(r=setTimeout(c,n),i&&(a=t.apply(l,s))),a});return u.cancel=function(){clearTimeout(r),r=s=l=null},u}function de(e,t){return mn(t,e)}function fe(e){return function(){return!e.apply(this,arguments)}}function pe(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}}function he(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}}function ve(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}}function ge(e,t,n){t=G(t,n);for(var i,r=m(e),o=0,s=r.length;s>o;o++)if(i=r[o],t(e[i],i,e))return i}function me(e){return function(t,n,i){n=G(n,i);for(var r=zt(t),o=e>0?0:r-1;o>=0&&r>o;o+=e)if(n(t[o],o,t))return o;return-1}}function be(e,t,n,i){n=G(n,i,1);for(var r=n(t),o=0,s=zt(e);s>o;){var a=Math.floor((o+s)/2);n(e[a])<r?o=a+1:s=a}return o}function ye(e,t,n){return function(i,r,o){var s=0,a=zt(i);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=t(at.call(i,s,a),u),o>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&a>o;o+=e)if(i[o]===r)return o;return-1}}function _e(e,t,n){var i=yn(e)?Cn:ge,r=i(e,t,n);return void 0!==r&&-1!==r?e[r]:void 0}function we(e,t){return _e(e,z(t))}function ke(e,t,n){t=q(t,n);var i,r;if(yn(e))for(i=0,r=e.length;r>i;i++)t(e[i],i,e);else{var o=m(e);for(i=0,r=o.length;r>i;i++)t(e[o[i]],o[i],e)}return e}function xe(e,t,n){t=G(t,n);for(var i=!yn(e)&&m(e),r=(i||e).length,o=Array(r),s=0;r>s;s++){var a=i?i[s]:s;o[s]=t(e[a],a,e)}return o}function Ce(e){var t=function(t,n,i,r){var o=!yn(t)&&m(t),s=(o||t).length,a=e>0?0:s-1;for(r||(i=t[o?o[a]:a],a+=e);a>=0&&s>a;a+=e){var l=o?o[a]:a;i=n(i,t[l],l,t)}return i};return function(e,n,i,r){var o=arguments.length>=3;return t(e,q(n,r,4),i,o)}}function Te(e,t,n){var i=[];return t=G(t,n),ke(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i}function Se(e,t,n){return Te(e,fe(G(t)),n)}function Ee(e,t,n){t=G(t,n);for(var i=!yn(e)&&m(e),r=(i||e).length,o=0;r>o;o++){var s=i?i[o]:o;if(!t(e[s],s,e))return!1}return!0}function Pe(e,t,n){t=G(t,n);for(var i=!yn(e)&&m(e),r=(i||e).length,o=0;r>o;o++){var s=i?i[o]:o;if(t(e[s],s,e))return!0}return!1}function Ae(e,t,n,i){return yn(e)||(e=E(e)),("number"!=typeof n||i)&&(n=0),Sn(e,t,n)>=0}function Oe(e,t){return xe(e,H(t))}function Me(e,t){return Te(e,z(t))}function Le(e,t,n){var i,r,o=-(1/0),s=-(1/0);if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=yn(e)?e:E(e);for(var a=0,l=e.length;l>a;a++)i=e[a],null!=i&&i>o&&(o=i)}else t=G(t,n),ke(e,function(e,n,i){r=t(e,n,i),(r>s||r===-(1/0)&&o===-(1/0))&&(o=e,s=r)});return o}function De(e,t,n){var i,r,o=1/0,s=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=yn(e)?e:E(e);for(var a=0,l=e.length;l>a;a++)i=e[a],null!=i&&o>i&&(o=i)}else t=G(t,n),ke(e,function(e,n,i){r=t(e,n,i),(s>r||r===1/0&&o===1/0)&&(o=e,s=r)});return o}function Ie(e,t,n){if(null==t||n)return yn(e)||(e=E(e)),e[Z(e.length-1)];var i=yn(e)?j(e):E(e),r=zt(i);t=Math.max(Math.min(t,r),0);for(var o=r-1,s=0;t>s;s++){var a=Z(s,o),l=i[s];i[s]=i[a],i[a]=l}return i.slice(0,t)}function je(e){return Ie(e,1/0)}function Ne(e,t,n){var i=0;return t=G(t,n),Oe(xe(e,function(e,n,r){return{value:e,index:i++,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")}function Be(e,t){return function(n,i,r){var o=t?[[],[]]:{};return i=G(i,r),ke(n,function(t,r){var s=i(t,r,n);e(o,t,s)}),o}}function Re(e){return e?Nt(e)?at.call(e):wt(e)?e.match(jn):yn(e)?xe(e,V):E(e):[]}function $e(e){return null==e?0:yn(e)?e.length:m(e).length}function Ue(e,t,n){return t in n}function Fe(e,t,n){return at.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function Ve(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:Fe(e,e.length-t)}function ze(e,t,n){return at.call(e,null==t||n?1:t)}function He(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:ze(e,Math.max(0,e.length-t))}function qe(e){return Te(e,Boolean)}function We(e,t){return ae(e,t,!1)}function Ke(e,t,n,i){r(t)||(i=n,n=t,t=!1),null!=n&&(n=G(n,i));for(var o=[],s=[],a=0,l=zt(e);l>a;a++){var c=e[a],u=n?n(c,a,e):c;t&&!n?(a&&s===u||o.push(c),s=u):n?Ae(s,u)||(s.push(u),o.push(c)):Ae(o,c)||o.push(c)}return o}function Ge(e){for(var t=[],n=arguments.length,i=0,r=zt(e);r>i;i++){var o=e[i];if(!Ae(t,o)){var s;for(s=1;n>s&&Ae(arguments[s],o);s++);s===n&&t.push(o)}}return t}function Je(e){for(var t=e&&Le(e,zt).length||0,n=Array(t),i=0;t>i;i++)n[i]=Oe(e,i);return n}function Ye(e,t){for(var n={},i=0,r=zt(e);r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n}function Qe(e,t,n){null==t&&(t=e||0,e=0),n||(n=e>t?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;i>o;o++,e+=n)r[o]=e;return r}function Xe(e,t){if(null==t||1>t)return[];for(var n=[],i=0,r=e.length;r>i;)n.push(at.call(e,i,i+=t));return n}function Ze(e,t){return e._chain?_(t).chain():t}function et(e){return ke(O(e),function(t){var n=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return st.apply(e,arguments),Ze(this,n.apply(_,e))}}),_}var tt="1.13.1",nt="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},it=Array.prototype,rt=Object.prototype,ot="undefined"!=typeof Symbol?Symbol.prototype:null,st=it.push,at=it.slice,lt=rt.toString,ct=rt.hasOwnProperty,ut="undefined"!=typeof ArrayBuffer,dt="undefined"!=typeof DataView,ft=Array.isArray,pt=Object.keys,ht=Object.create,vt=ut&&ArrayBuffer.isView,gt=isNaN,mt=isFinite,bt=!{toString:null}.propertyIsEnumerable("toString"),yt=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],_t=Math.pow(2,53)-1,wt=s("String"),kt=s("Number"),xt=s("Date"),Ct=s("RegExp"),Tt=s("Error"),St=s("Symbol"),Et=s("ArrayBuffer"),Pt=s("Function"),At=nt.document&&nt.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof At&&(Pt=function(e){return"function"==typeof e||!1});var Ot=Pt,Mt=s("Object"),Lt=dt&&Mt(new DataView(new ArrayBuffer(8))),Dt="undefined"!=typeof Map&&Mt(new Map),It=s("DataView"),jt=Lt?a:It,Nt=ft||s("Array"),Bt=s("Arguments");!function(){Bt(arguments)||(Bt=function(e){return l(e,"callee")})}();var Rt=Bt,$t=p("byteLength"),Ut=f($t),Ft=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,Vt=ut?h:d(!1),zt=p("length");_.VERSION=tt,_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return String(this._wrapped)};var Ht="[object DataView]",qt="forEach",Wt="has",Kt=["clear","delete"],Gt=["get",Wt,"set"],Jt=Kt.concat(qt,Gt),Yt=Kt.concat(Gt),Qt=["add"].concat(Kt,qt,Wt),Xt=Dt?S(Jt):s("Map"),Zt=Dt?S(Yt):s("WeakMap"),en=Dt?S(Qt):s("Set"),tn=s("WeakSet"),nn=M(T),rn=M(m),on=M(T,!0);_.toPath=B,_.iteratee=K;var sn=Date.now||function(){return(new Date).getTime()},an={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ln=ee(an),cn=A(an),un=ee(cn),dn=_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},fn=/(.)^/,pn={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},hn=/\\|'|\r|\n|\u2028|\u2029/g,vn=/^\s*(\w|\$)+\s*$/,gn=0,mn=e(function(e,t){var n=mn.placeholder,i=function(){for(var r=0,o=t.length,s=Array(o),a=0;o>a;a++)s[a]=t[a]===n?arguments[r++]:t[a];for(;r<arguments.length;)s.push(arguments[r++]);return se(e,i,this,this,s)};return i});mn.placeholder=_;var bn=e(function(t,n,i){if(!Ot(t))throw new TypeError("Bind must be called on a function");var r=e(function(e){return se(t,r,n,this,i.concat(e))});return r}),yn=f(zt),_n=e(function(e,t){t=ae(t,!1,!1);var n=t.length;if(1>n)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=bn(e[i],e)}return e}),wn=e(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),kn=mn(wn,_,1),xn=mn(ve,2),Cn=me(1),Tn=me(-1),Sn=ye(1,Cn,be),En=ye(-1,Tn),Pn=Ce(1),An=Ce(-1),On=e(function(e,t,n){var i,r;return Ot(t)?r=t:(t=R(t),i=t.slice(0,-1),t=t[t.length-1]),xe(e,function(e){var o=r;if(!o){if(i&&i.length&&(e=$(e,i)),null==e)return void 0;o=e[t]}return null==o?o:o.apply(e,n)})}),Mn=Be(function(e,t,n){l(e,n)?e[n].push(t):e[n]=[t]}),Ln=Be(function(e,t,n){e[n]=t}),Dn=Be(function(e,t,n){l(e,n)?e[n]++:e[n]=1}),In=Be(function(e,t,n){e[n?0:1].push(t)},!0),jn=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,Nn=e(function(e,t){var n={},i=t[0];if(null==e)return n;Ot(i)?(t.length>1&&(i=q(i,t[1])),t=T(e)):(i=Ue,t=ae(t,!1,!1),e=Object(e));for(var r=0,o=t.length;o>r;r++){var s=t[r],a=e[s];i(a,s,e)&&(n[s]=a)}return n}),Bn=e(function(e,t){var n,i=t[0];return Ot(i)?(i=fe(i),t.length>1&&(n=t[1])):(t=xe(ae(t,!1,!1),String),i=function(e,n){return!Ae(t,n)}),Nn(e,i,n)}),Rn=e(function(e,t){return t=ae(t,!0,!0),Te(e,function(e){return!Ae(t,e)})}),$n=e(function(e,t){return Rn(e,t)}),Un=e(function(e){return Ke(ae(e,!0,!0))}),Fn=e(Je);ke(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=it[e];_.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),Ze(this,n)}}),ke(["concat","join","slice"],function(e){var t=it[e];_.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),Ze(this,e)}});var Vn={__proto__:null,VERSION:tt,restArguments:e,isObject:t,isNull:n,isUndefined:i,isBoolean:r,isElement:o,isString:wt,isNumber:kt,isDate:xt,isRegExp:Ct,isError:Tt,isSymbol:St,isArrayBuffer:Et,isDataView:jt,isArray:Nt,isFunction:Ot,isArguments:Rt,isFinite:c,isNaN:u,isTypedArray:Vt,isEmpty:b,isMatch:y,isEqual:C,isMap:Xt,isWeakMap:Zt,isSet:en,isWeakSet:tn,keys:m,allKeys:T,values:E,pairs:P,invert:A,functions:O,methods:O,extend:nn,extendOwn:rn,assign:rn,defaults:on,create:I,clone:j,tap:N,get:U,has:F,mapObject:J,identity:V,constant:d,noop:Y,toPath:B,property:H,propertyOf:Q,matcher:z,matches:z,times:X,random:Z,now:sn,escape:ln,unescape:un,templateSettings:dn,template:ne,result:ie,uniqueId:re,chain:oe,iteratee:K,partial:mn,bind:bn,bindAll:_n,memoize:le,delay:wn,defer:kn,throttle:ce,debounce:ue,wrap:de,negate:fe,compose:pe,after:he,before:ve,once:xn,findKey:ge,findIndex:Cn,findLastIndex:Tn,sortedIndex:be,indexOf:Sn,lastIndexOf:En,find:_e,detect:_e,findWhere:we,each:ke,forEach:ke,map:xe,collect:xe,reduce:Pn,foldl:Pn,inject:Pn,reduceRight:An,foldr:An,filter:Te,select:Te,reject:Se,every:Ee,all:Ee,some:Pe,any:Pe,contains:Ae,includes:Ae,include:Ae,invoke:On,pluck:Oe,where:Me,max:Le,min:De,shuffle:je,sample:Ie,sortBy:Ne,groupBy:Mn,indexBy:Ln,countBy:Dn,partition:In,toArray:Re,size:$e,pick:Nn,omit:Bn,first:Ve,head:Ve,take:Ve,initial:Fe,last:He,rest:ze,tail:ze,drop:ze,compact:qe,flatten:We,without:$n,uniq:Ke,unique:Ke,union:Un,intersection:Ge,difference:Rn,unzip:Je,transpose:Je,zip:Fn,object:Ye,range:Qe,chunk:Xe,mixin:et,"default":_},zn=et(Vn);return zn._=zn,zn}),function(){var e,t=this,n=t.Backbone,i=Array.prototype.slice,r=Array.prototype.splice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="0.9.2";var o=t._;o||"undefined"==typeof require||(o=require("underscore"));var s=t.jQuery||t.Zepto||t.ender;e.setDomLibrary=function(e){s=e},e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=/\s+/,l=e.Events={on:function(e,t,n){var i,r,o,s,l;if(!t)return this;for(e=e.split(a),i=this._callbacks||(this._callbacks={});r=e.shift();)l=i[r],o=l?l.tail:{},o.next=s={},o.context=n,o.callback=t,i[r]={tail:s,next:l?l.next:o};return this},off:function(e,t,n){var i,r,s,l,c,u;if(r=this._callbacks){if(!(e||t||n))return delete this._callbacks,this;for(e=e?e.split(a):o.keys(r);i=e.shift();)if(s=r[i],delete r[i],s&&(t||n))for(l=s.tail;(s=s.next)!==l;)c=s.callback,u=s.context,(t&&c!==t||n&&u!==n)&&this.on(i,c,u);return this}},trigger:function(e){var t,n,r,o,s,l,c;if(!(r=this._callbacks))return this;for(l=r.all,e=e.split(a),c=i.call(arguments,1);t=e.shift();){if(n=r[t])for(o=n.tail;(n=n.next)!==o;)n.callback.apply(n.context||this,c);if(n=l)for(o=n.tail,s=[t].concat(c);(n=n.next)!==o;)n.callback.apply(n.context||this,s)}return this}};l.bind=l.on,l.unbind=l.off;var c=e.Model=function(e,t){var n;e||(e={}),t&&t.parse&&(e=this.parse(e)),(n=S(this,"defaults"))&&(e=o.extend({},n,e)),t&&t.collection&&(this.collection=t.collection),this.attributes={},this._escapedAttributes={},this.cid=o.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=o.clone(this.attributes),this.initialize.apply(this,arguments)};o.extend(c.prototype,l,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return o.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(e){var t;if(t=this._escapedAttributes[e])return t;var n=this.get(e);return this._escapedAttributes[e]=o.escape(null==n?"":""+n)},has:function(e){return null!=this.get(e)},set:function(e,t,n){var i,r,s;if(o.isObject(e)||null==e?(i=e,n=t):(i={},i[e]=t),n||(n={}),!i)return this;if(i instanceof c&&(i=i.attributes),n.unset)for(r in i)i[r]=void 0;if(!this._validate(i,n))return!1;this.idAttribute in i&&(this.id=i[this.idAttribute]);var a=n.changes={},l=this.attributes,u=this._escapedAttributes,d=this._previousAttributes||{};for(r in i)s=i[r],(!o.isEqual(l[r],s)||n.unset&&o.has(l,r))&&(delete u[r],(n.silent?this._silent:a)[r]=!0),n.unset?delete l[r]:l[r]=s,o.isEqual(d[r],s)&&o.has(l,r)==o.has(d,r)?(delete this.changed[r],delete this._pending[r]):(this.changed[r]=s,n.silent||(this._pending[r]=!0));return n.silent||this.change(n),this},unset:function(e,t){return(t||(t={})).unset=!0,this.set(e,null,t)},clear:function(e){return(e||(e={})).unset=!0,this.set(o.clone(this.attributes),e)},fetch:function(t){t=t?o.clone(t):{};var n=this,i=t.success;return t.success=function(e,r,o){return n.set(n.parse(e,o),t)?void(i&&i(n,e)):!1},t.error=e.wrapError(t.error,n,t),(this.sync||e.sync).call(this,"read",this,t)},save:function(t,n,i){var r,s;if(o.isObject(t)||null==t?(r=t,i=n):(r={},r[t]=n),i=i?o.clone(i):{},i.wait){if(!this._validate(r,i))return!1;s=o.clone(this.attributes)}var a=o.extend({},i,{silent:!0});if(r&&!this.set(r,i.wait?a:i))return!1;var l=this,c=i.success;i.success=function(e,t,n){var s=l.parse(e,n);return i.wait&&(delete i.wait,s=o.extend(r||{},s)),l.set(s,i)?void(c?c(l,e):l.trigger("sync",l,e,i)):!1},i.error=e.wrapError(i.error,l,i);var u=this.isNew()?"create":"update",d=(this.sync||e.sync).call(this,u,this,i);return i.wait&&this.set(s,a),d},destroy:function(t){t=t?o.clone(t):{};var n=this,i=t.success,r=function(){n.trigger("destroy",n,n.collection,t)};if(this.isNew())return r(),!1;t.success=function(e){t.wait&&r(),i?i(n,e):n.trigger("sync",n,e,t)},t.error=e.wrapError(t.error,n,t);var s=(this.sync||e.sync).call(this,"delete",this,t);return t.wait||r(),s},url:function(){var e=S(this,"urlRoot")||S(this.collection,"url")||E();return this.isNew()?e:e+("/"==e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(e){e||(e={});var t=this._changing;this._changing=!0;for(var n in this._silent)this._pending[n]=!0;var i=o.extend({},e.changes,this._silent);this._silent={};for(var n in i)this.trigger("change:"+n,this,this.get(n),e);if(t)return this;for(;!o.isEmpty(this._pending);){this._pending={},this.trigger("change",this,e);for(var n in this.changed)this._pending[n]||this._silent[n]||delete this.changed[n];this._previousAttributes=o.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(e){return arguments.length?o.has(this.changed,e):!o.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?o.clone(this.changed):!1;var t,n=!1,i=this._previousAttributes;for(var r in e)o.isEqual(i[r],t=e[r])||((n||(n={}))[r]=t);return n},previous:function(e){return arguments.length&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return o.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(e,t){if(t.silent||!this.validate)return!0;e=o.extend({},this.attributes,e);var n=this.validate(e,t);return n?(t&&t.error?t.error(this,n,t):this.trigger("error",this,n,t),!1):!0}});var u=e.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})};o.extend(u.prototype,l,{model:c,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,t){var n,i,s,a,l,c,u={},d={},f=[];for(t||(t={}),e=o.isArray(e)?e.slice():[e],n=0,s=e.length;s>n;n++){if(!(a=e[n]=this._prepareModel(e[n],t)))throw new Error("Can't add an invalid model to a collection");l=a.cid,c=a.id,u[l]||this._byCid[l]||null!=c&&(d[c]||this._byId[c])?f.push(n):u[l]=d[c]=a}for(n=f.length;n--;)e.splice(f[n],1);for(n=0,s=e.length;s>n;n++)(a=e[n]).on("all",this._onModelEvent,this),this._byCid[a.cid]=a,null!=a.id&&(this._byId[a.id]=a);if(this.length+=s,i=null!=t.at?t.at:this.models.length,r.apply(this.models,[i,0].concat(e)),this.comparator&&this.sort({silent:!0}),t.silent)return this;for(n=0,s=this.models.length;s>n;n++)u[(a=this.models[n]).cid]&&(t.index=n,a.trigger("add",a,this,t));return this},remove:function(e,t){var n,i,r,s;for(t||(t={}),e=o.isArray(e)?e.slice():[e],n=0,i=e.length;i>n;n++)s=this.getByCid(e[n])||this.get(e[n]),s&&(delete this._byId[s.id],delete this._byCid[s.cid],r=this.indexOf(s),this.models.splice(r,1),this.length--,t.silent||(t.index=r,s.trigger("remove",s,this,t)),this._removeReference(s));return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,o.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return o.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){if(e||(e={}),!this.comparator)throw new Error("Cannot sort a set without a comparator");var t=o.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return o.map(this.models,function(t){return t.get(e)})},reset:function(e,t){e||(e=[]),t||(t={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return this._reset(),this.add(e,o.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(t){t=t?o.clone(t):{},void 0===t.parse&&(t.parse=!0);var n=this,i=t.success;return t.success=function(e,r,o){n[t.add?"add":"reset"](n.parse(e,o),t),i&&i(n,e)},t.error=e.wrapError(t.error,n,t),(this.sync||e.sync).call(this,"read",this,t)},create:function(e,t){var n=this;if(t=t?o.clone(t):{},e=this._prepareModel(e,t),!e)return!1;t.wait||n.add(e,t);var i=t.success;return t.success=function(r,o,s){t.wait&&n.add(r,t),i?i(r,o):r.trigger("sync",e,o,t)},e.save(null,t),e},parse:function(e,t){return e},chain:function(){return o(this.models).chain()},_reset:function(e){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){if(t||(t={}),e instanceof c)e.collection||(e.collection=this);else{var n=e;t.collection=this,e=new this.model(n,t),e._validate(e.attributes,t)||(e=!1)}return e},_removeReference:function(e){this==e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!=e&&"remove"!=e||n==this)&&("destroy"==e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],this._byId[t.id]=t),this.trigger.apply(this,arguments))}});var d=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","initial","rest","last","without","indexOf","shuffle","lastIndexOf","isEmpty","groupBy"];o.each(d,function(e){u.prototype[e]=function(){return o[e].apply(o,[this.models].concat(o.toArray(arguments)))}});var f=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},p=/:\w+/g,h=/\*\w+/g,v=/[-[\]{}()+?.,\\^$|#\s]/g;o.extend(f.prototype,l,{initialize:function(){},route:function(t,n,i){return e.history||(e.history=new g),o.isRegExp(t)||(t=this._routeToRegExp(t)),i||(i=this[n]),e.history.route(t,o.bind(function(r){var o=this._extractParameters(t,r);i&&i.apply(this,o),this.trigger.apply(this,["route:"+n].concat(o)),e.history.trigger("route",this,n,o)},this)),this},navigate:function(t,n){e.history.navigate(t,n)},_bindRoutes:function(){if(this.routes){var e=[];for(var t in this.routes)e.unshift([t,this.routes[t]]);for(var n=0,i=e.length;i>n;n++)this.route(e[n][0],e[n][1],this[e[n][1]])}},_routeToRegExp:function(e){return e=e.replace(v,"\\$&").replace(p,"([^/]+)").replace(h,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var g=e.History=function(){this.handlers=[],o.bindAll(this,"checkUrl")},m=/^[#\/]/,b=/msie [\w.]+/;g.started=!1,o.extend(g.prototype,l,{interval:50,getHash:function(e){var t=e?e.location:window.location,n=t.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||t){e=window.location.pathname;var n=window.location.search;n&&(e+=n)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(m,"")},start:function(e){if(g.started)throw new Error("Backbone.history has already been started");g.started=!0,this.options=o.extend({},{root:"/"},this.options,e),this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&window.history&&window.history.pushState);var t=this.getFragment(),n=document.documentMode,i=b.exec(navigator.userAgent.toLowerCase())&&(!n||7>=n);i&&(this.iframe=s('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?s(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?s(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var r=window.location,a=r.pathname==this.options.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!a?(this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&a&&r.hash&&(this.fragment=this.getHash().replace(m,""),window.history.replaceState({},document.title,r.protocol+"//"+r.host+this.options.root+this.fragment)),this.options.silent?void 0:this.loadUrl())},stop:function(){s(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),g.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();return t==this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t==this.fragment?!1:(this.iframe&&this.navigate(t),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=o.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return n},navigate:function(e,t){if(!g.started)return!1;t&&t!==!0||(t={trigger:t});var n=(e||"").replace(m,"");this.fragment!=n&&(this._hasPushState?(0!=n.indexOf(this.options.root)&&(n=this.options.root+n),this.fragment=n,window.history[t.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,t.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),
this._updateHash(this.iframe.location,n,t.replace))):window.location.assign(this.options.root+e),t.trigger&&this.loadUrl(e))},_updateHash:function(e,t,n){n?e.replace(e.toString().replace(/(javascript:|#).*$/,"")+"#"+t):e.hash=t}});var y=e.View=function(e){this.cid=o.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},_=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName"];o.extend(y.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,t,n){var i=document.createElement(e);return t&&s(i).attr(t),n&&s(i).html(n),i},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof s?e:s(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(e||(e=S(this,"events"))){this.undelegateEvents();for(var t in e){var n=e[t];if(o.isFunction(n)||(n=this[e[t]]),!n)throw new Error('Method "'+e[t]+'" does not exist');var i=t.match(_),r=i[1],s=i[2];n=o.bind(n,this),r+=".delegateEvents"+this.cid,""===s?this.$el.bind(r,n):this.$el.delegate(s,r,n)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=o.extend({},this.options,e));for(var t=0,n=w.length;n>t;t++){var i=w[t];e[i]&&(this[i]=e[i])}this.options=e},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var e=S(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}}});var k=function(e,t){var n=T(this,e,t);return n.extend=this.extend,n};c.extend=u.extend=f.extend=y.extend=k;var x={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(t,n,i){var r=x[t];i||(i={});var a={type:r,dataType:"json"};return i.url||(a.url=S(n,"url")||E()),i.data||!n||"create"!=t&&"update"!=t||(a.contentType="application/json",a.data=JSON.stringify(n.toJSON())),e.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),e.emulateHTTP&&("PUT"===r||"DELETE"===r)&&(e.emulateJSON&&(a.data._method=r),a.type="POST",a.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r)}),"GET"===a.type||e.emulateJSON||(a.processData=!1),s.ajax(o.extend(a,i))},e.wrapError=function(e,t,n){return function(i,r){r=i===t?r:i,e?e(t,r,n):t.trigger("error",t,r,n)}};var C=function(){},T=function(e,t,n){var i;return i=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},o.extend(i,e),C.prototype=e.prototype,i.prototype=new C,t&&o.extend(i.prototype,t),n&&o.extend(i,n),i.prototype.constructor=i,i.__super__=e.prototype,i},S=function(e,t){return e&&e[t]?o.isFunction(e[t])?e[t]():e[t]:null},E=function(){throw new Error('A "url" property or function must be specified')}}.call(this),this.Disney=this.Disney||{},function(e){"use strict";var t=e.Disney,n=e.Backbone,i=e._,r="change:watched",o=function(e,t){t?this.retain():this.release()},s=function(e){e!==r&&this.trigger.apply(this,arguments)},a=function(e){this.current=i.extend(this.current||{},i.reduce(e,function(e,t,n){return t&&(e[n]=t),e},{}))},l=function(){this.current=void 0},c={},u=["login","logout","signup","refresh","update"],d=t.GuestContext=function(e){this._h=e||{},this.on("login",a),this.on("signup",a),this.on("refresh",a),this.on("update",a),this.on("logout",l)};d.actions=u,i.extend(d.prototype,n.Events,{_r:0,retain:function(){return 0===this._r++&&this.trigger(r,this,!0),this},release:function(){this._r>0&&0===--this._r&&this.trigger(r,this,!1)},watched:function(){return this._r>0},spawn:function(){var e=new d(c);return e._p=this,e.current=this.current,e.on(r,o,this),this.on("all",s,e),e},disown:function(e){e.off(r,o,this),this.off("all",s,e),e._r>0&&this.release()}});var f=function(){throw"Not implemented"};i.each(u,function(e){d.prototype[e]=function(){return(this._h[e]||f).apply(this,arguments)},c[e]=function(){return this._p[e].apply(this._p,arguments)}})}(this),function(e){"use strict";function t(t,n){var i;e.console.log("trigger:data",n),s.trigger(t,n&&{profile:n.profile,displayName:n.displayName,tokens:(i=n.token)&&{access:i.access_token,refresh:i.refresh_token}})}var n,i=e.Disney,r=e.jQuery,o={login:function(t,n){return t.launchIdentityFlow().then(function(){n.trigger("open"),e.console.log("launchIdentityFlow")},function(t){e.console.log("Login Error: ",t)})},signup:function(e,t){return e.launchRegistration().then(function(){t.trigger("open")},function(){t.trigger("close")})},logout:function(e,t){return t.current?e.logout():r.when(!0)},refresh:function(e){return e.getLoggedInStatus()},update:function(e,t){return t.current?(t.trigger("open"),e.launchProfile()):r.when(!0)}};r.each(o,function(e,t){var i="_swdid_"+e;o[e]=function(){var e=this,r=e[i];return r||(r=e[i]=n.pipe(function(n){return t(n,e)}).promise(),r.always(function(){delete e[i]})),r}});var s;i.initDid=function(a){var l=/^([^\/:]+:\/\/[^\/]+)\//.exec(e.location.href)||["",""];return n?null:(n=r.Deferred(),a=r.extend({env:"PROD",responderPage:l[1]+"/_swdid/"},a,{silentAutoLogin:!1}),a.clientId&&r(function(){var i,o=e.DisneyID;o?(i=e.did=o.get(a),i.init(),r.each(["init","create","update","login","signup","logout","close"],function(e,n){i.on(n,function(e){t(n,e)})}),i.on("init",function(e){e.loggedIn&&t("login",e.guest)}),i.on("refresh",function(e){t("refresh",{token:e})}),n.resolve(i)):n.reject()}),s=new i.GuestContext(o))}}(this),function(e,t){"use strict";function n(){}var i,r,o=e.Disney,s=e._,a=e.JSON,l=s.rest,c={query:n,provide:n,pub:n,sub:n};a&&e.postMessage&&(e.addEventListener?(i=function(t){e.addEventListener("message",t,!1)},r=function(t){e.removeEventListener("message",t,!1)}):e.attachEvent&&(i=function(t){e.attachEvent("onmessage",t)},r=function(t){e.detachEvent("onmessage",t)})),o.xdc=function(e,n,o,u){function d(t){var i=v+a.stringify([t].concat(l(arguments)));e.postMessage(i,n)}function f(e){var i,r,o=h.length;e.origin===n&&"string"==typeof e.data&&e.data.substr(0,o)===h&&(i=a.parse(e.data.substr(o)),"string"==typeof i[0]&&(r=s.has(p,i[0])&&p[i[0]])&&r.apply(t,l(i)))}var p,h="xdc "+o+" ",v="xdc "+(u||o)+" ",g={},m={},b={};return i?(i(f),p={call:function(e,n,i){function r(){if(a++)throw"reply already sent";d("reply",n,s.toArray(arguments))}var o=s.has(m,e)&&m[e],a=0,l=!1;if(o)try{o.apply(t,i.concat([r])),l=!0}finally{l||d("error",n,"unexpected remote exception")}else d("error",n,"undefined remote procedure: "+e)},reply:function(e,n){var i=s.has(g,e)&&g[e];i&&(delete g[e],i.apply(t,n))},notify:function(e,n){var i,r,o=s.has(b,e)&&b[e];if("number"==typeof n.length){if(o)for(i=0,r=o.length;r>i;++i)o[i].apply(t,n);"all"!==e&&p.notify("all",[e].concat(n))}},error:function(e,t){var n=s.has(g,e)&&g[e];if(n)throw delete g[e],""+t}},{query:function(e){var t=l(arguments),n=t[t.length-1],i=s.uniqueId();n&&(g[i]=n,d("call",e,i,s.initial(t)))},provide:function(e,t){m[e]=t},pub:function(e){d("notify",e,l(arguments))},sub:function(e,t){var n=b[e];n||(n=b[e]=[]),n.push(t)},close:function(){r(f)}}):c}}(this),function(e,t){"use strict";var n=e.Disney,i=e._;n.initGuestProvider=function(r,o){var s=n.xdc(e.parent,r,"guest");i.each(n.GuestContext.actions,function(e){s.provide(e,function(n){o[e]().then(function(e){n(e)},function(e){n(t,e||"failed")})})}),o.on("all",function(){s.pub.apply(s,i.toArray(arguments))}),s.query("ready",function(){})}}(this);